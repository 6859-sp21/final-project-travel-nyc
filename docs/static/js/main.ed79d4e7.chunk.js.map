{"version":3,"sources":["components/pages/Page0.js","components/pages/Page1.js","components/pages/Page2.js","components/pages/Page3.js","components/pages/Page4.js","components/Legend.js","components/Map.js","components/keys.js","stations.js","list_stations.js","components/taxis.csv","components/RangeInput.js","components/WelcomeModal.js","components/MapWrapper.js","App.js","reportWebVitals.js","index.js"],"names":["Page0","Page1","Page2","Page3","Page4","Legend","counts","resetFilter","resetView","brushing","setBrushing","aggregate","setAggregate","brushRadius","setBrushRadius","pickupAgg","setPickupAgg","arcType","setArcType","page_array","max_page","length","useState","page","setPage","updatePage","change","newPage","PositionContainer","styled","position","zIndex","top","left","height","width","CenterContainer","color","borderColor","padding","display","flexDirection","alignItems","background","borderRadius","TextContainer","fontSize","marginTop","marginBottom","marginLeft","marginRight","fontWeight","classes","makeStyles","theme","modal","justifyContent","paper","border","spacing","useStyles","React","open","setOpen","handleBrushRadius","event","newValue","ButtonGroup","Button","variant","disableElevation","onClick","startIcon","endIcon","IconButton","size","undefined","Modal","aria-labelledby","aria-describedby","className","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","id","Map","viewState","onViewStateChange","stations","trips","time_filter","loading","isPlaying","setHighlight","initCounters","zeros","forEach","s","filterTrips","filter","element","start_minutes","brushingExtension","BrushingExtension","red","green","highlightCount","filteredTrips","setFilteredTrips","setpickupAgg","useEffect","layers","HexagonLayer","data","elevationRange","elevationScale","extruded","opacity","visible","radius","coverage","pickable","getPosition","d","start_position","autoHighlight","end_position","ScatterplotLayer","getFillColor","getRadius","brushingRadius","brushingEnabled","extensions","ArcLayer","getSourcePosition","getTargetPosition","getSourceColor","getTargetColor","updateTriggers","brushingTarget","mapboxApiAccessToken","mapStyle","getTooltip","object","lat","lng","count","points","mapboxgl","workerClass","require","default","station_info","3186","name","latitude","longitude","3195","3199","3792","3185","3275","3639","3276","3202","3211","3213","3640","3187","3203","3207","3678","3194","3206","3225","3220","3196","3272","3269","3638","3278","3273","3279","3270","3205","3209","3267","3212","3184","3681","3679","3483","3280","3214","3791","3481","3193","3677","3268","3281","3210","3201","3694","3192","3198","3277","3191","3426","list_stations","bottom","SliderInput","withStyles","root","valueLabel","Slider","RangeInput","min","max","value","animationSpeed","onChange","formatLabel","lock","setLock","span","setSpan","setIsPlaying","animation","cancelAnimationFrame","nextValueMin","requestAnimationFrame","isButtonEnabled","localOnChange","updateValue","disabled","title","valueLabelDisplay","valueLabelFormat","WelcomeModal","CircularProgress","nyc","zoom","pitch","bearing","MapWrapper","props","setViewState","setState","setFilter","handleFlyTo","highlightStation","t","hour","Math","floor","slice","minutes","handleChangeViewState","destination","state","transitionDuration","transitionInterpolator","FlyToInterpolator","togglePlaying","playing","csv","trip_data","pickup_time","Date","dropoff_time","taxi_type","duration","distance","passenger_count","start_time","toTimeString","getHours","getMinutes","fare_amount","tip_amount","total_amount","then","filter_data","this","toggle","Component","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ed79d4e7.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function Page0() {\n  return (\n    <div>\n      <h3>Introduction</h3>\n      <div>\n        This visualization explores where New Yorkers traveled via taxi during\n        the initial months of the COVID-19 pandemic.\n      </div>\n      <br></br>\n      <div>\n        For each trip, a pickup location (green dot) and dropoff location (red\n        dot) are marked on the map.\n      </div>\n      <br></br>\n      <div>\n        To pan and navigate the map, click and drag. Shift+click and drag to\n        rotate the map view. Scroll to zoom in and out.\n      </div>\n      <h4>Guided Exploration</h4>\n      <div>\n        Take a look around on the map and see if you can spot where riders may\n        like to be dropped off.\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\n\n\nexport default function Page1() {\n  return (\n    <div>\n      <h3>Time Filter</h3>\n      <div>\n        Certain locations are popular at certain times of the day. To filter\n        based on when a trip was taken, use the filter at the bottom of the map.\n      </div>\n      <br></br>\n      <div>\n        The size of the filter can be made adjustable by using the lock icon to\n        analyze larger periods of time\n      </div>\n      <br></br>\n      <div>\n        To view how trips change over time, the play/pause icon can\n        automatically increment the filter window.\n      </div>\n      <h4>Performance note</h4>\n      <div>\n        It is recommended that the filter size is less than 6 hours when using\n        the autoplay function.\n      </div>\n\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function Page2() {\n  return (\n    <div>\n      <br></br>\n      <div>Brushing is a method of analyzing specific regions on the map.</div>\n      <br></br>\n      <div>\n        Hovering on the map will highlight the trips around that location. Arcs\n        annotate the trip's pickup (green) and dropoff (red) locations.\n      </div>\n      <br></br>\n      <div>\n        The target of the brush indicates which trips are highlighted in the\n        area: pickups, dropoffs, or both.\n      </div>\n      <h4>Guided Exploration</h4>\n      <div>\n        What are some popular destinations and where to people travel to get\n        there?\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function Page3() {\n  return (\n    <div>\n      <br></br>\n      <div>\n        Aggregation of individual trips into bins provides a summary view of the\n        trips taken in the city.\n      </div>\n      <br></br>\n      <div>\n        These bins can aggregate over pickups or dropoffs in the area. Hovering\n        over a bin column shows the count and location of the aggregation bin.\n      </div>\n      <br></br>\n      <h4>Guided Exploration</h4>\n      <div>How do popular pickup and dropoff locations change with time?</div>\n      <br></br>\n      <div>\n        When do people usually depart from LaGuardia Airport (LGA)? When do they\n        arrive?\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function Page4() {\n  return (\n    <div>\n      <br></br>\n      <div>\n        Data courtesy of NYC TLS:\n        https://www1.nyc.gov/site/tlc/about/tlc-trip-record-data.page\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { styled, makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport IconHelp from \"@material-ui/icons/Help\";\nimport LeftArrow from \"@material-ui/icons/ArrowBackIos\";\nimport RightArrow from \"@material-ui/icons/ArrowForwardIos\";\nimport { ButtonGroup } from \"@material-ui/core\";\n\nimport Page0 from \"./pages/Page0\";\nimport Page1 from \"./pages/Page1\";\nimport Page2 from \"./pages/Page2\";\nimport Page3 from \"./pages/Page3\";\nimport Page4 from \"./pages/Page4\";\n\nexport default function Legend({\n  counts,\n  resetFilter,\n  resetView,\n  brushing,\n  setBrushing,\n  aggregate,\n  setAggregate,\n  brushRadius,\n  setBrushRadius,\n  pickupAgg,\n  setPickupAgg,\n  arcType,\n  setArcType,\n}) {\n  const page_array = [<Page0 />, <Page1 />, <Page2 />, <Page3 />, <Page4 />];\n  const max_page = page_array.length;\n\n  const [page, setPage] = useState(0);\n\n  const updatePage = (change) => {\n    let newPage = page + change;\n    if (newPage < 0) {\n      newPage = 0;\n    } else if (newPage >= max_page) {\n      newPage = max_page - 1;\n    }\n\n    if (page === newPage) return;\n\n    if (newPage === 2) {\n      setBrushing(true);\n      setAggregate(false);\n    } else if (newPage === 3) {\n      setBrushing(false);\n      setAggregate(true);\n    } else {\n      setBrushing(false);\n      setAggregate(false);\n    }\n    setPage(newPage);\n  };\n\n  const PositionContainer = styled(\"div\")({\n    position: \"absolute\",\n    zIndex: 1,\n    top: \"1vh\",\n    left: \"1vw\",\n    height: \"90vh\",\n    width: \"20vw\",\n  });\n\n  const CenterContainer = styled(\"div\")({\n    color: \"#dddddd\",\n    borderColor: \"rgb(72,72,72)\",\n    padding: \"1em\",\n    position: \"\",\n    zIndex: 1,\n    height: \"100%\",\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    // justifyContent: \"center\",\n    alignItems: \"center\",\n    background: \"rgb(48,48,48)\",\n    borderRadius: \"10px\",\n  });\n\n  const TextContainer = styled(\"div\")({\n    color: \"#dddddd\",\n    display: \"block\",\n    fontSize: \"1.75em\",\n    marginTop: \"0.25em\",\n    marginBottom: \"0.83em\",\n    marginLeft: 0,\n    marginRight: 0,\n    fontWeight: \"bold\",\n  });\n\n  const useStyles = makeStyles((theme) => ({\n    modal: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n    paper: {\n      color: \"#dddddd\",\n      background: \"rgb(48,48,48)\",\n      border: \"0px solid #000\",\n      padding: theme.spacing(2, 4, 3),\n    },\n  }));\n\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const toggleBrush = () => {\n    setBrushing(!brushing);\n    setAggregate(false);\n  };\n\n  const toggleAgg = () => {\n    setAggregate(!aggregate);\n    setBrushing(false);\n  };\n\n\n  const handleBrushRadius = (event, newValue) => {\n    setBrushRadius(newValue);\n  };\n\n  return (\n    <div>\n      <PositionContainer>\n        <CenterContainer>\n          <TextContainer>NYC COVID Taxi Trips</TextContainer>\n          {/* Prev and next buttons */}\n          <div>\n            <ButtonGroup>\n              <Button\n                variant={page ? \"contained\" : \"outlined\"}\n                disableElevation\n                onClick={() => updatePage(-1)}\n                color=\"primary\"\n                startIcon={<LeftArrow />}\n              >\n                Back\n              </Button>\n              <Button\n                variant={page !== max_page - 1 ? \"contained\" : \"outlined\"}\n                disableElevation\n                onClick={() => updatePage(1)}\n                color=\"primary\"\n                endIcon={<RightArrow />}\n              >\n                Next\n              </Button>\n            </ButtonGroup>\n          </div>\n          <div>\n            {/* Brushing */}\n            {page === max_page - 1 ? (\n              <div>\n                <h3>Free Exploration</h3>\n                <div>Analysis Method</div>\n                <br></br>\n                <ButtonGroup>\n                  <Button\n                    variant=\"contained\"\n                    disableElevation\n                    onClick={toggleBrush}\n                    color={brushing ? \"\" : \"primary\"}\n                  >\n                    brushing\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    disableElevation\n                    onClick={toggleAgg}\n                    color={aggregate ? \"\" : \"primary\"}\n                  >\n                    aggregation\n                  </Button>\n                </ButtonGroup>\n                <div></div>\n                <br></br>\n                <ButtonGroup>\n                  <Button\n                    variant=\"contained\"\n                    disableElevation\n                    onClick={resetFilter}\n                    color=\"primary\"\n                  >\n                    Reset Time\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    disableElevation\n                    onClick={resetView}\n                    color=\"primary\"\n                  >\n                    Reset View\n                  </Button>\n                </ButtonGroup>\n                <IconButton\n                  variant=\"contained\"\n                  disableElevation\n                  onClick={handleOpen}\n                  color=\"secondary\"\n                >\n                  <IconHelp />\n                </IconButton>\n              </div>\n            ) : (\n              <div></div>\n            )}\n\n            {brushing ? (\n              <div>\n                <h3>Location Brushing</h3>\n                <div>Brushing Arc Target</div>\n                <br></br>\n                <ButtonGroup size=\"small\">\n                  <Button\n                    variant=\"contained\"\n                    disableElevation\n                    onClick={() => setArcType(\"source\")}\n                    color={arcType === \"source\" ? \"\" : \"primary\"}\n                  >\n                    Pickups\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    disableElevation\n                    onClick={() => setArcType(\"target\")}\n                    color={arcType === \"target\" ? \"\" : \"primary\"}\n                  >\n                    Dropoffs\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    disableElevation\n                    onClick={() => setArcType(\"source_target\")}\n                    color={arcType === \"source_target\" ? \"\" : \"primary\"}\n                  >\n                    Both\n                  </Button>\n                </ButtonGroup>\n                <div></div>\n                <br></br>\n                <div>Brush Radius</div>\n                <br></br>\n                <ButtonGroup size=\"small\">\n                  <Button\n                    variant=\"contained\"\n                    disableElevation\n                    onClick={() => handleBrushRadius(undefined, 100)}\n                    color={brushRadius === 100 ? \"\" : \"primary\"}\n                  >\n                    Small\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    disableElevation\n                    onClick={() => handleBrushRadius(undefined, 200)}\n                    color={brushRadius === 200 ? \"\" : \"primary\"}\n                  >\n                    Medium\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    disableElevation\n                    onClick={() => handleBrushRadius(undefined, 400)}\n                    color={brushRadius === 400 ? \"\" : \"primary\"}\n                  >\n                    Large\n                  </Button>\n                </ButtonGroup>\n                <br></br>\n              </div>\n            ) : (\n              <div />\n            )}\n            {aggregate ? (\n              <div>\n                <h3>Location Aggregation</h3>\n                <div>Aggregation Type</div>\n                <br></br>\n                <ButtonGroup size=\"small\">\n                  <Button\n                    variant=\"contained\"\n                    disableElevation\n                    onClick={() => setPickupAgg(true)}\n                    color={pickupAgg ? \"\" : \"primary\"}\n                  >\n                    Pickup\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    disableElevation\n                    onClick={() => setPickupAgg(false)}\n                    color={pickupAgg ? \"primary\" : \"\"}\n                  >\n                    Dropoff\n                  </Button>\n                </ButtonGroup>\n              </div>\n            ) : (\n              <div />\n            )}\n            <div>{page_array[page]}</div>\n          </div>\n        </CenterContainer>\n      </PositionContainer>\n      <div>\n        <Modal\n          aria-labelledby=\"transition-modal-title\"\n          aria-describedby=\"transition-modal-description\"\n          className={classes.modal}\n          open={open}\n          onClose={handleClose}\n          closeAfterTransition\n          BackdropComponent={Backdrop}\n          BackdropProps={{\n            timeout: 500,\n          }}\n        >\n          <Fade in={open}>\n            <div className={classes.paper}>\n              <h2 id=\"transition-modal-title\">Help:</h2>\n              <ul>\n                <li>\n                  The map displays where New Yrok City Taxis picked up and\n                  dropped off passengers during the first few months of the\n                  COVID pandemic.\n                </li>\n                <li>\n                  Green Represents a pickup location and red means a dropoff\n                  location.\n                </li>\n                <p></p>\n                <li>\n                  Enabling brushing allows for the specific trips to be\n                  highlighted.\n                </li>\n                <li>\n                  The brushing can filter the trips with pickups, dropoffs, or\n                  both inside the radius.\n                </li>\n                <li>The radius of the brush can be changed via the slider.</li>\n                <p></p>\n                <li>\n                  An aggregate view of the data can be enabled to show\n                  aggregation of where pickup and dropoff locations are.\n                </li>\n                <p></p>\n                <li>\n                  The time filter can be adjusted to view how trip locations\n                  change over time.\n                </li>\n                <li>The lock icon toggles the fixed/free filter size.</li>\n                <li>The filter can be reset with the \"Reset Filter\" button.</li>\n                <p></p>\n                <li>\n                  The view of the map can be reset to the initial using the\n                  \"Reset View\" button\n                </li>\n              </ul>\n              <p>\n                Data courtesy of NYC TLS:\n                https://www1.nyc.gov/site/tlc/about/tlc-trip-record-data.page\n              </p>\n            </div>\n          </Fade>\n        </Modal>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactMapGL from \"react-map-gl\";\nimport {\n  ArcLayer,\n  ColumnLayer,\n  DeckGL,\n  HexagonLayer,\n  ScatterplotLayer,\n  TripsLayer,\n} from \"deck.gl\";\nimport { DataFilterExtension, BrushingExtension } from \"@deck.gl/extensions\";\nimport { easeCubicInOut } from \"d3\";\nimport mapboxgl from \"mapbox-gl\"; // This is a dependency of react-map-gl even if you didn't explicitly install it\nimport Legend from \"./Legend\";\nimport { MAPBOX_TOKEN } from \"./keys\";\n\n// eslint-disable-next-line import/no-webpack-loader-syntax\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\n\nexport default function Map({\n  width,\n  height,\n  viewState,\n  onViewStateChange,\n  stations,\n  trips,\n  time_filter,\n  loading,\n  isPlaying,\n  setHighlight,\n  resetFilter,\n  resetView,\n}) {\n  const initCounters = () => {\n    const zeros = {};\n    stations.forEach((s) => {\n      zeros[s.id] = 0;\n    });\n    return zeros;\n  };\n\n  const filterChange = () => {\n    const update = initCounters();\n    let highlightCounter = 0;\n    // const update = initCounters();\n    trips.forEach((element) => {\n      if (\n        element.start_minutes >= time_filter[0] &&\n        element.start_minutes <= time_filter[1]\n      ) {\n        highlightCounter += 1;\n        if (selectedStation === undefined) {\n          // get net flow if nothing is selected\n          update[element.end_id] += 1;\n          update[element.start_id] -= 1;\n        } else {\n          //  get net flow with respect to selected station\n          if (\n            element.start_id === selectedStation ||\n            element.end_id === selectedStation\n          ) {\n            update[element.start_id] -= 1;\n            update[element.end_id] += 1;\n          }\n        }\n      }\n    });\n    // console.log(update);\n    // if (init) setChange(change + 1);\n    update[\"highlight\"] = highlightCounter;\n    return update;\n  };\n\n  const filterTrips = () => {\n    const newTrips = trips.filter((element) => {\n      return (\n        element.start_minutes >= time_filter[0] &&\n        element.start_minutes <= time_filter[1]\n      );\n    });\n    return newTrips;\n  };\n\n  const brushingExtension = new BrushingExtension();\n\n  const red = [255, 0, 0];\n  const light_red = [255, 0, 0, 50];\n  const green = [0, 255, 0];\n  const light_green = [0, 255, 0, 50];\n\n  const neutral = [255, 0, 0, 70];\n\n  const [selectedStation, setSelectedStation] = React.useState(undefined);\n  const [counters, setCounters] = React.useState(initCounters());\n  const [highlightCount, setHighlightCount] = React.useState(0);\n  const [filteredTrips, setFilteredTrips] = React.useState(filterTrips());\n\n  const [brushing, setBrushing] = React.useState(false);\n  const [brushRadius, setBrushRadius] = React.useState(100);\n  const [aggregate, setAggregate] = React.useState(false);\n  const [pickupAgg, setpickupAgg] = React.useState(true);\n  const [arcType, setArcType] = React.useState(\"source\");\n\n  // React.useEffect(() => {\n  //   const res = filterChange();\n  //   console.log();\n  //   setCounters(res);\n  //   setHighlightCount(res[\"highlight\"]);\n  // }, [selectedStation, loading, time_filter]);\n\n  React.useEffect(() => {\n    setFilteredTrips(filterTrips());\n  }, [time_filter, loading]);\n\n  function getTooltip({ object }) {\n    if (!object) {\n      return null;\n    }\n    // console.log(object);\n\n    if (pickupAgg) {\n      const lat = object.position[1];\n      const lng = object.position[0];\n      const count = object.points.length;\n      return (\n        object &&\n        `\\\n        Hexbin LatLng: ${[lat, lng]}\n        Number of taxi pickups: ${count}`\n      );\n    } else {\n      const lat = object.position[1];\n      const lng = object.position[0];\n      const count = object.points.length;\n      return (\n        object &&\n        `\\\n        Hexbin LatLng: ${[lat, lng]}\n        Number of taxi dropoffs: ${count}`\n      );\n    }\n    return null;\n  }\n\n  const layers = [\n    new HexagonLayer({\n      id: \"pickup-agg\",\n      data: filteredTrips,\n      elevationRange: [0, 3000],\n      elevationScale: 1,\n      extruded: true,\n      opacity: 0.7,\n      visible: aggregate && pickupAgg,\n      radius: 100,\n      coverage: 0.7,\n      pickable: true,\n      getPosition: (d) => d.start_position,\n      autoHighlight: true,\n    }),\n    new HexagonLayer({\n      id: \"dropoff-agg\",\n      data: filteredTrips,\n      elevationRange: [0, 3000],\n      elevationScale: trips && trips.length ? 1 : 0,\n      extruded: true,\n      opacity: 0.7,\n      visible: aggregate && !pickupAgg,\n      radius: 100,\n      coverage: 0.7,\n      pickable: true,\n      autoHighlight: true,\n      getPosition: (d) => d.end_position,\n    }),\n    new ScatterplotLayer({\n      id: \"pickup\",\n      data: filteredTrips,\n      getPosition: (d) => d.start_position,\n      getFillColor: light_green,\n      visible: !aggregate,\n      getRadius: 5,\n    }),\n    new ScatterplotLayer({\n      id: \"dropoff\",\n      data: filteredTrips,\n      getPosition: (d) => d.end_position,\n      getFillColor: light_red,\n      visible: !aggregate,\n      getRadius: 5,\n    }),\n    new ScatterplotLayer({\n      id: \"pickup-brushed\",\n      data: filteredTrips,\n      getPosition: (d) => d.start_position,\n      getFillColor: green,\n      getRadius: 5,\n      brushingRadius: brushRadius,\n      brushingEnabled: brushing,\n      visible: !aggregate,\n      extensions: [brushingExtension],\n    }),\n    new ScatterplotLayer({\n      id: \"dropoff-brushed\",\n      data: filteredTrips,\n      getPosition: (d) => d.end_position,\n      getFillColor: red,\n      getRadius: 5,\n      brushingRadius: brushRadius,\n      brushingEnabled: brushing,\n      visible: !aggregate,\n      extensions: [brushingExtension],\n    }),\n    new ArcLayer({\n      id: \"arc-layer\",\n      data: filteredTrips,\n      getSourcePosition: (d) => d.start_position,\n      getTargetPosition: (d) => d.end_position,\n      getSourceColor: (d) => {\n        return green;\n      },\n      getTargetColor: (d) => {\n        return red;\n      },\n      opacity: 0.2,\n      updateTriggers: {\n        getSourceColor: [time_filter],\n        getTargetColor: [time_filter],\n      },\n      brushingRadius: brushRadius,\n      brushingEnabled: brushing,\n      visible: brushing && !aggregate,\n      brushingTarget: arcType,\n      extensions: [brushingExtension],\n    }),\n  ];\n\n  return (\n    <div>\n      <Legend\n        counts={highlightCount}\n        resetFilter={resetFilter}\n        resetView={resetView}\n        brushing={brushing}\n        setBrushing={setBrushing}\n        aggregate={aggregate}\n        setAggregate={setAggregate}\n        brushRadius={brushRadius}\n        setBrushRadius={setBrushRadius}\n        pickupAgg={pickupAgg}\n        setPickupAgg={setpickupAgg}\n        arcType={arcType}\n        setArcType={setArcType}\n      />\n      <ReactMapGL\n        mapboxApiAccessToken={MAPBOX_TOKEN}\n        width={width}\n        height={height}\n        viewState={viewState}\n        onViewStateChange={onViewStateChange}\n        mapStyle=\"mapbox://styles/mapbox/dark-v9\"\n      >\n        <DeckGL viewState={viewState} layers={layers} getTooltip={getTooltip} />\n      </ReactMapGL>\n    </div>\n  );\n}\n","// please be nice and don't misuse this token. Thanks\nexport const MAPBOX_TOKEN =\n  \"pk.eyJ1IjoianpoYW5nNTYiLCJhIjoiY2tuMXhmNG44MTI1MzJ2bW9rbWhjNTM4YSJ9.Oukq6B1n9DOXpjfRZfUOJQ\";\n\nexport const SUBWAY_TOKEN = \"1tlYc08Y7bazXsrjXOLWPa1BotmO3QQe2FEXlfPb\";\n\nexport const BUS_TOKEN = \"3c79e0ce-8ab9-4a2e-becb-8f7b22d4ccc8\";\n","// converted from stations.json\nexport const station_info = {\n  3186: {\n    name: \"Grove St PATH\",\n    latitude: 40.71958611647166,\n    longitude: -74.0431174635887,\n  },\n  3195: {\n    name: \"Sip Ave\",\n    latitude: 40.73089709786179,\n    longitude: -74.06391263008119,\n  },\n  3199: {\n    name: \"Newport Pkwy\",\n    latitude: 40.728744799999994,\n    longitude: -74.03210820000001,\n  },\n  3792: {\n    name: \"Columbus Dr at Exchange Pl\",\n    latitude: 40.71687,\n    longitude: -74.03281,\n  },\n  3185: {\n    name: \"City Hall\",\n    latitude: 40.717732500000004,\n    longitude: -74.04384499999999,\n  },\n  3275: {\n    name: \"Columbus Drive\",\n    latitude: 40.71835519823214,\n    longitude: -74.03891444206238,\n  },\n  3639: {\n    name: \"Harborside\",\n    latitude: 40.71925170000001,\n    longitude: -74.034234,\n  },\n  3276: {\n    name: \"Marin Light Rail\",\n    latitude: 40.71458403535893,\n    longitude: -74.04281705617905,\n  },\n  3202: {\n    name: \"Newport PATH\",\n    latitude: 40.7272235,\n    longitude: -74.03375890000001,\n  },\n  3211: { name: \"Newark Ave\", latitude: 40.72152515, longitude: -74.046304543 },\n  3213: {\n    name: \"Van Vorst Park\",\n    latitude: 40.71848892,\n    longitude: -74.047726625,\n  },\n  3640: {\n    name: \"Journal Square\",\n    latitude: 40.733670000000004,\n    longitude: -74.0625,\n  },\n  3187: {\n    name: \"Warren St\",\n    latitude: 40.721123600000006,\n    longitude: -74.03805095,\n  },\n  3203: {\n    name: \"Hamilton Park\",\n    latitude: 40.727595965999996,\n    longitude: -74.044247311,\n  },\n  3207: {\n    name: \"Oakland Ave\",\n    latitude: 40.7376037,\n    longitude: -74.05247829999999,\n  },\n  3678: {\n    name: \"Fairmount Ave\",\n    latitude: 40.72572613742557,\n    longitude: -74.07195925712584,\n  },\n  3194: {\n    name: \"McGinley Square\",\n    latitude: 40.7253399253558,\n    longitude: -74.06762212514876,\n  },\n  3206: { name: \"Hilltop\", latitude: 40.7311689, longitude: -74.0575736 },\n  3225: {\n    name: \"Baldwin at Montgomery\",\n    latitude: 40.7236589,\n    longitude: -74.0641943,\n  },\n  3220: {\n    name: \"5 Corners Library\",\n    latitude: 40.73496102000952,\n    longitude: -74.05950307846071,\n  },\n  3196: {\n    name: \"Riverview Park\",\n    latitude: 40.7443187,\n    longitude: -74.04399090000001,\n  },\n  3272: {\n    name: \"Jersey & 3rd\",\n    latitude: 40.723331586464354,\n    longitude: -74.04595255851744,\n  },\n  3269: {\n    name: \"Brunswick & 6th\",\n    latitude: 40.726011729646245,\n    longitude: -74.0503889322281,\n  },\n  3638: { name: \"Washington St\", latitude: 40.7242941, longitude: -74.0354826 },\n  3278: {\n    name: \"Monmouth and 6th\",\n    latitude: 40.72568548362901,\n    longitude: -74.0487903356552,\n  },\n  3273: {\n    name: \"Manila & 1st\",\n    latitude: 40.72165072487999,\n    longitude: -74.04288411140442,\n  },\n  3279: {\n    name: \"Dixon Mills\",\n    latitude: 40.72163014263835,\n    longitude: -74.04996782541275,\n  },\n  3270: {\n    name: \"Jersey & 6th St\",\n    latitude: 40.72528910781132,\n    longitude: -74.04557168483734,\n  },\n  3205: {\n    name: \"JC Medical Center\",\n    latitude: 40.71653978099194,\n    longitude: -74.0496379137039,\n  },\n  3209: {\n    name: \"Brunswick St\",\n    latitude: 40.7241765,\n    longitude: -74.05065640000001,\n  },\n  3267: {\n    name: \"Morris Canal\",\n    latitude: 40.7124188237569,\n    longitude: -74.03852552175522,\n  },\n  3212: {\n    name: \"Christ Hospital\",\n    latitude: 40.734785818,\n    longitude: -74.050443636,\n  },\n  3184: { name: \"Paulus Hook\", latitude: 40.7141454, longitude: -74.0335519 },\n  3681: {\n    name: \"Grand St\",\n    latitude: 40.71517767732029,\n    longitude: -74.03768330812454,\n  },\n  3679: {\n    name: \"Bergen Ave\",\n    latitude: 40.72210378668603,\n    longitude: -74.07145500183104,\n  },\n  3483: { name: \"Montgomery St\", latitude: 40.71942, longitude: -74.05099 },\n  3280: {\n    name: \"Astor Place\",\n    latitude: 40.71928220070703,\n    longitude: -74.07126188278198,\n  },\n  3214: {\n    name: \"Essex Light Rail\",\n    latitude: 40.712774200000005,\n    longitude: -74.03648570000001,\n  },\n  3791: {\n    name: \"Hoboken Ave at Monmouth St\",\n    latitude: 40.73520838045357,\n    longitude: -74.04696375131606,\n  },\n  3481: { name: \"York St\", latitude: 40.71649, longitude: -74.04105 },\n  3193: {\n    name: \"Lincoln Park\",\n    latitude: 40.7246050998869,\n    longitude: -74.07840594649316,\n  },\n  3677: {\n    name: \"Glenwood Ave\",\n    latitude: 40.72755146730012,\n    longitude: -74.07106071710588,\n  },\n  3268: {\n    name: \"Lafayette Park\",\n    latitude: 40.71346382669195,\n    longitude: -74.06285852193831,\n  },\n  3281: {\n    name: \"Leonard Gordon Park\",\n    latitude: 40.74590996631558,\n    longitude: -74.05727148056029,\n  },\n  3210: {\n    name: \"Pershing Field\",\n    latitude: 40.742677141,\n    longitude: -74.051788633,\n  },\n  3201: { name: \"Dey St\", latitude: 40.737711, longitude: -74.066921 },\n  3694: { name: \"Jackson Square\", latitude: 40.71113, longitude: -74.0789 },\n  3192: {\n    name: \"Liberty Light Rail\",\n    latitude: 40.711242299999995,\n    longitude: -74.0557013,\n  },\n  3198: {\n    name: \"Heights Elevator\",\n    latitude: 40.748715945380226,\n    longitude: -74.04044330120088,\n  },\n  3277: {\n    name: \"Communipaw & Berry Lane\",\n    latitude: 40.71435836870427,\n    longitude: -74.06661093235016,\n  },\n  3191: {\n    name: \"Union St\",\n    latitude: 40.71821129999999,\n    longitude: -74.08363940000001,\n  },\n  3426: {\n    name: \"JCBS Depot\",\n    latitude: 40.70965083364061,\n    longitude: -74.06860113143921,\n  },\n};\n","export const list_stations = [\n  {\n    name: \"Grove St PATH\",\n    latitude: 40.71958611647166,\n    longitude: -74.0431174635887,\n    id: 3186,\n  },\n  {\n    name: \"Sip Ave\",\n    latitude: 40.73089709786179,\n    longitude: -74.06391263008119,\n    id: 3195,\n  },\n  {\n    name: \"Newport Pkwy\",\n    latitude: 40.728744799999994,\n    longitude: -74.03210820000001,\n    id: 3199,\n  },\n  {\n    name: \"Columbus Dr at Exchange Pl\",\n    latitude: 40.71687,\n    longitude: -74.03281,\n    id: 3792,\n  },\n  {\n    name: \"City Hall\",\n    latitude: 40.717732500000004,\n    longitude: -74.04384499999999,\n    id: 3185,\n  },\n  {\n    name: \"Columbus Drive\",\n    latitude: 40.71835519823214,\n    longitude: -74.03891444206238,\n    id: 3275,\n  },\n  {\n    name: \"Harborside\",\n    latitude: 40.71925170000001,\n    longitude: -74.034234,\n    id: 3639,\n  },\n  {\n    name: \"Marin Light Rail\",\n    latitude: 40.71458403535893,\n    longitude: -74.04281705617905,\n    id: 3276,\n  },\n  {\n    name: \"Newport PATH\",\n    latitude: 40.7272235,\n    longitude: -74.03375890000001,\n    id: 3202,\n  },\n  {\n    name: \"Newark Ave\",\n    latitude: 40.72152515,\n    longitude: -74.046304543,\n    id: 3211,\n  },\n  {\n    name: \"Van Vorst Park\",\n    latitude: 40.71848892,\n    longitude: -74.047726625,\n    id: 3213,\n  },\n  {\n    name: \"Journal Square\",\n    latitude: 40.733670000000004,\n    longitude: -74.0625,\n    id: 3640,\n  },\n  {\n    name: \"Warren St\",\n    latitude: 40.721123600000006,\n    longitude: -74.03805095,\n    id: 3187,\n  },\n  {\n    name: \"Hamilton Park\",\n    latitude: 40.727595965999996,\n    longitude: -74.044247311,\n    id: 3203,\n  },\n  {\n    name: \"Oakland Ave\",\n    latitude: 40.7376037,\n    longitude: -74.05247829999999,\n    id: 3207,\n  },\n  {\n    name: \"Fairmount Ave\",\n    latitude: 40.72572613742557,\n    longitude: -74.07195925712584,\n    id: 3678,\n  },\n  {\n    name: \"McGinley Square\",\n    latitude: 40.7253399253558,\n    longitude: -74.06762212514876,\n    id: 3194,\n  },\n  { name: \"Hilltop\", latitude: 40.7311689, longitude: -74.0575736, id: 3206 },\n  {\n    name: \"Baldwin at Montgomery\",\n    latitude: 40.7236589,\n    longitude: -74.0641943,\n    id: 3225,\n  },\n  {\n    name: \"5 Corners Library\",\n    latitude: 40.73496102000952,\n    longitude: -74.05950307846071,\n    id: 3220,\n  },\n  {\n    name: \"Riverview Park\",\n    latitude: 40.7443187,\n    longitude: -74.04399090000001,\n    id: 3196,\n  },\n  {\n    name: \"Jersey & 3rd\",\n    latitude: 40.723331586464354,\n    longitude: -74.04595255851744,\n    id: 3272,\n  },\n  {\n    name: \"Brunswick & 6th\",\n    latitude: 40.726011729646245,\n    longitude: -74.0503889322281,\n    id: 3269,\n  },\n  {\n    name: \"Washington St\",\n    latitude: 40.7242941,\n    longitude: -74.0354826,\n    id: 3638,\n  },\n  {\n    name: \"Monmouth and 6th\",\n    latitude: 40.72568548362901,\n    longitude: -74.0487903356552,\n    id: 3278,\n  },\n  {\n    name: \"Manila & 1st\",\n    latitude: 40.72165072487999,\n    longitude: -74.04288411140442,\n    id: 3273,\n  },\n  {\n    name: \"Dixon Mills\",\n    latitude: 40.72163014263835,\n    longitude: -74.04996782541275,\n    id: 3279,\n  },\n  {\n    name: \"Jersey & 6th St\",\n    latitude: 40.72528910781132,\n    longitude: -74.04557168483734,\n    id: 3270,\n  },\n  {\n    name: \"JC Medical Center\",\n    latitude: 40.71653978099194,\n    longitude: -74.0496379137039,\n    id: 3205,\n  },\n  {\n    name: \"Brunswick St\",\n    latitude: 40.7241765,\n    longitude: -74.05065640000001,\n    id: 3209,\n  },\n  {\n    name: \"Morris Canal\",\n    latitude: 40.7124188237569,\n    longitude: -74.03852552175522,\n    id: 3267,\n  },\n  {\n    name: \"Christ Hospital\",\n    latitude: 40.734785818,\n    longitude: -74.050443636,\n    id: 3212,\n  },\n  {\n    name: \"Paulus Hook\",\n    latitude: 40.7141454,\n    longitude: -74.0335519,\n    id: 3184,\n  },\n  {\n    name: \"Grand St\",\n    latitude: 40.71517767732029,\n    longitude: -74.03768330812454,\n    id: 3681,\n  },\n  {\n    name: \"Bergen Ave\",\n    latitude: 40.72210378668603,\n    longitude: -74.07145500183104,\n    id: 3679,\n  },\n  { name: \"Montgomery St\", latitude: 40.71942, longitude: -74.05099, id: 3483 },\n  {\n    name: \"Astor Place\",\n    latitude: 40.71928220070703,\n    longitude: -74.07126188278198,\n    id: 3280,\n  },\n  {\n    name: \"Essex Light Rail\",\n    latitude: 40.712774200000005,\n    longitude: -74.03648570000001,\n    id: 3214,\n  },\n  {\n    name: \"Hoboken Ave at Monmouth St\",\n    latitude: 40.73520838045357,\n    longitude: -74.04696375131606,\n    id: 3791,\n  },\n  { name: \"York St\", latitude: 40.71649, longitude: -74.04105, id: 3481 },\n  {\n    name: \"Lincoln Park\",\n    latitude: 40.7246050998869,\n    longitude: -74.07840594649316,\n    id: 3193,\n  },\n  {\n    name: \"Glenwood Ave\",\n    latitude: 40.72755146730012,\n    longitude: -74.07106071710588,\n    id: 3677,\n  },\n  {\n    name: \"Lafayette Park\",\n    latitude: 40.71346382669195,\n    longitude: -74.06285852193831,\n    id: 3268,\n  },\n  {\n    name: \"Leonard Gordon Park\",\n    latitude: 40.74590996631558,\n    longitude: -74.05727148056029,\n    id: 3281,\n  },\n  {\n    name: \"Pershing Field\",\n    latitude: 40.742677141,\n    longitude: -74.051788633,\n    id: 3210,\n  },\n  { name: \"Dey St\", latitude: 40.737711, longitude: -74.066921, id: 3201 },\n  { name: \"Jackson Square\", latitude: 40.71113, longitude: -74.0789, id: 3694 },\n  {\n    name: \"Liberty Light Rail\",\n    latitude: 40.711242299999995,\n    longitude: -74.0557013,\n    id: 3192,\n  },\n  {\n    name: \"Heights Elevator\",\n    latitude: 40.748715945380226,\n    longitude: -74.04044330120088,\n    id: 3198,\n  },\n  {\n    name: \"Communipaw & Berry Lane\",\n    latitude: 40.71435836870427,\n    longitude: -74.06661093235016,\n    id: 3277,\n  },\n  {\n    name: \"Union St\",\n    latitude: 40.71821129999999,\n    longitude: -74.08363940000001,\n    id: 3191,\n  },\n  {\n    name: \"JCBS Depot\",\n    latitude: 40.70965083364061,\n    longitude: -74.06860113143921,\n    id: 3426,\n  },\n];\n","export default __webpack_public_path__ + \"static/media/taxis.ac20a2fd.csv\";","import React, { useState, useEffect } from \"react\";\nimport { styled, withStyles } from \"@material-ui/core/styles\";\nimport Slider from \"@material-ui/core/Slider\";\nimport Button from \"@material-ui/core/IconButton\";\nimport Lock from \"@material-ui/icons/Lock\";\nimport LockOpen from \"@material-ui/icons/LockOpen\";\nimport Typography from \"@material-ui/core/Typography\";\nimport PlayIcon from \"@material-ui/icons/PlayArrow\";\nimport PauseIcon from \"@material-ui/icons/Pause\";\n\nconst PositionContainer = styled(\"div\")({\n  position: \"absolute\",\n  left: \"20vw\",\n  zIndex: 1,\n  bottom: \"40px\",\n  width: \"80vw\",\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n});\n\nconst CenterContainer = styled(\"div\")({\n  position: \"\",\n  zIndex: 1,\n  // bottom: \"40px\",\n  height: \"120%\",\n  width: \"65%\",\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  background: \"rgb(48,48,48)\",\n  borderRadius: \"10px\",\n});\n\nconst SliderInput = withStyles({\n  root: {\n    marginLeft: 12,\n    width: \"80%\",\n  },\n  valueLabel: {\n    \"& span\": {\n      background: \"rgb(75,75,75)\",\n      color: \"#ffffff\",\n    },\n  },\n})(Slider);\n\nexport default function RangeInput({\n  min,\n  max,\n  value,\n  animationSpeed,\n  onChange,\n  formatLabel,\n}) {\n  const [lock, setLock] = useState(true);\n  const [span, setSpan] = useState(value[1] - value[0]);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [animation] = useState({});\n\n  // prettier-ignore\n  useEffect(() => {\n    return () => animation.id && cancelAnimationFrame(animation.id);\n  }, [animation]);\n\n  if (isPlaying && !animation.id) {\n    const span = value[1] - value[0];\n    let nextValueMin = value[0] + animationSpeed;\n    if (nextValueMin + span >= max) {\n      nextValueMin = min;\n    }\n    animation.id = requestAnimationFrame(() => {\n      animation.id = 0;\n      onChange([nextValueMin, nextValueMin + span]);\n    });\n  }\n\n  const isButtonEnabled = value[0] > min || value[1] < max;\n\n  useEffect(() => {\n    setSpan(value[1] - value[0]);\n  }, [value]);\n\n  const localOnChange = (newValue) => {\n    let updateValue = [value[0], value[1]];\n    if (lock) {\n      if (newValue[1] === updateValue[1]) {\n        updateValue = [newValue[0], newValue[0] + span];\n      } else {\n        updateValue = [newValue[1] - span, newValue[1]];\n      }\n      if (updateValue[0] < min) {\n        updateValue = [min, min + span];\n      }\n      if (updateValue[1] > max) {\n        updateValue = [max - span, max];\n      }\n      onChange(updateValue);\n    } else {\n      onChange(newValue);\n    }\n  };\n\n  return (\n    <PositionContainer>\n      <CenterContainer>\n        <Button\n          color=\"secondary\"\n          disabled={!isButtonEnabled}\n          onClick={() => setIsPlaying(!isPlaying)}\n        >\n          {isPlaying ? (\n            <PauseIcon title=\"Stop\" />\n          ) : (\n            <PlayIcon title=\"Animate\" />\n          )}\n        </Button>\n\n        <SliderInput\n          color=\"secondary\"\n          min={min}\n          max={max}\n          value={value}\n          aria-labelledby=\"time-filter\"\n          onChange={(event, newValue) => localOnChange(newValue)}\n          valueLabelDisplay=\"on\"\n          valueLabelFormat={formatLabel}\n        />\n\n        <Button\n          color=\"secondary\"\n          onClick={() => {\n            setLock(!lock);\n            setSpan(value[1] - value[0]);\n          }}\n        >\n          {lock ? (\n            <Lock title=\"Lock Time Filter\" />\n          ) : (\n            <LockOpen title=\"Open Time Filter\" />\n          )}\n        </Button>\n      </CenterContainer>\n    </PositionContainer>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport Done from \"@material-ui/icons/Done\";\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  paper: {\n    color: \"#dddddd\",\n    background: \"rgb(48,48,48)\",\n    border: \"0px solid #000\",\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nexport default function WelcomeModal({ loading }) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n\n  const handleClose = () => {\n    if (loading) return;\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        onClose={handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open}>\n          <div className={classes.paper}>\n            <h2 id=\"transition-modal-title\">NYC Taxi Trips during COVID</h2>\n            <p id=\"transition-modal-description\">\n              The COVID pandemic led to lockdowns and the reduction of travels.\n            </p>\n            <p>A city that was hit espectially hard was NYC.</p>\n            <p>\n              Let's explore how the first few months of the pandemic (March -\n              June 2020) changed how people used taxis in NYC.\n            </p>\n            <p>\n              Data courtesy of NYC TLS:\n              https://www1.nyc.gov/site/tlc/about/tlc-trip-record-data.page\n            </p>\n\n            {loading ? (\n              <div>\n                The data is loading, please wait. <CircularProgress />\n              </div>\n            ) : (\n              <div>\n                <p>\n                  Loading complete. Click outside to continue <Done />\n                </p>\n              </div>\n            )}\n          </div>\n        </Fade>\n      </Modal>\n    </div>\n  );\n}\n","import { React, Component } from \"react\";\nimport { FlyToInterpolator } from \"react-map-gl\";\nimport Map from \"./Map\";\nimport { station_info } from \"../stations\";\nimport { list_stations } from \"../list_stations\";\nimport { csv } from \"d3\";\nimport trip_data from \"./taxis.csv\";\nimport RangeInput from \"./RangeInput\";\nimport WelcomeModal from \"./WelcomeModal\";\n\nconst nyc = {\n  longitude: -74,\n  latitude: 40.72,\n  zoom: 13.5,\n  pitch: 45,\n  bearing: 0\n};\n\nconst jc = {\n  latitude: 40.725779443680345,\n  longitude: -74.05589375312678,\n  zoom: 13,\n  bearing: 0.8015740858150702,\n  pitch: 40.9,\n};\n\nclass MapWrapper extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      viewState: nyc,\n      station_info: station_info,\n      stations: list_stations,\n      trips: [],\n      loading: true,\n      time_filter: [600, 780],\n      playing: false,\n      highlightStation: undefined,\n      highlightCount: 0,\n    };\n  }\n\n  setViewState = (viewState) => {\n    this.setState({ viewState });\n  };\n\n  setFilter = (filter) => {\n    this.setState({\n      time_filter: filter,\n    });\n  };\n\n  resetFilter = () => {\n    this.setState({\n      time_filter: [600, 780],\n    });\n  };\n\n  resetView = () => {\n    this.handleFlyTo(nyc);\n  };\n\n  setHighlight = (name, count) => {\n    this.setState({\n      highlightStation: name,\n      highlightCount: count,\n    });\n  };\n\n  formatLabel = (t) => {\n    const hour = (\"00\" + Math.floor(t / 60)).slice(-2);\n    const minutes = (\"00\" + (t % 60)).slice(-2);\n    return `${hour}:${minutes}`;\n  };\n\n  handleChangeViewState = ({ viewState }) => {\n    this.setViewState(viewState);\n  };\n\n  handleFlyTo = (destination) => {\n    this.setViewState({\n      ...this.state.viewState,\n      ...destination,\n      transitionDuration: 1500,\n      transitionInterpolator: new FlyToInterpolator(),\n    });\n  };\n\n  togglePlaying = () => {\n    this.setState({\n      playing: !this.state.playing,\n    });\n  };\n\n  componentDidMount() {\n    csv(trip_data, function (d) {\n      const pickup_time = new Date(d[\"tpep_pickup_datetime\"]);\n      const dropoff_time = new Date(d[\"tpep_dropoff_datetime\"]);\n      return {\n        taxi_type: +d['VendorID'],\n        duration: (dropoff_time - pickup_time)/60000, // this is in minutes\n        distance: +d[\"trip_distance\"],\n        // start_datetime: d[\"tpep_pickup_datetime\"],\n        passenger_count: +d[\"passenger_count\"],\n        start_time: pickup_time.toTimeString(),\n        start_minutes: pickup_time.getHours() * 60 + pickup_time.getMinutes(),\n        fare_amount: +d[\"fare_amount\"],\n        tip_amount: +d[\"tip_amount\"],\n        total_amount: +d[\"total_amount\"],\n        start_position: [+d[\"pickup_longitude\"], +d[\"pickup_latitude\"]],\n        end_position: [+d[\"dropoff_longitude\"], +d[\"dropoff_latitude\"]],\n      };\n    })\n      .then((data) => {\n        const start_cut = new Date(\"01-01-2020\");\n        const stop_cut = new Date(\"05-01-2020\");\n        // const filter_data = data.filter(\n        //   (d) =>\n        //     d.start_position[0] != null &&\n        //     d.start_position[1] != null &&\n        //     d.end_position[0] != null &&\n        //     d.end_position[1] != null &&\n        //     d.start_id in this.state.station_info &&\n        //     d.end_id in this.state.station_info &&\n        //     new Date(d.start_datetime) > start_cut &&\n        //     new Date(d.start_datetime) < stop_cut\n        // );\n        const filter_data = data;\n        this.setState({\n          trips: filter_data,\n          loading: false,\n        });\n      })\n      .then(() => {\n        this.handleFlyTo(nyc);\n      });\n  }\n\n  render() {\n    return (\n      <div>\n        <WelcomeModal loading={this.state.loading} />\n        <Map\n          width=\"100vw\"\n          height=\"100vh\"\n          viewState={this.state.viewState}\n          onViewStateChange={this.handleChangeViewState}\n          stations={this.state.stations}\n          trips={this.state.trips}\n          toggle={this.state.toggle}\n          time_filter={this.state.time_filter}\n          loading={this.state.loading}\n          isPlaying={this.state.playing}\n          resetFilter={this.resetFilter}\n          resetView={this.resetView}\n        ></Map>\n        <RangeInput\n          min={0}\n          max={1439}\n          value={this.state.time_filter}\n          animationSpeed={10}\n          formatLabel={this.formatLabel}\n          onChange={this.setFilter}\n          togglePlaying={this.togglePlaying}\n        />\n      </div>\n    );\n  }\n}\n\nexport default MapWrapper;\n","import React from 'react';\nimport './App.css';\n\nimport MapWrapper from './components/MapWrapper';\n\n\nconst App = () => {\n  return(\n    <MapWrapper/>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}