(this.webpackJsonpNYCTaxiTrips=this.webpackJsonpNYCTaxiTrips||[]).push([[0],{159:function(e,t){},252:function(e,t,i){},253:function(e,t,i){},276:function(e,t){},279:function(e,t,i){"use strict";i.r(t);var n=i(1),a=i.n(n),o=i(48),l=i.n(o),d=(i(252),i(253),i(139)),r=i(187),u=i(188),s=i(189),c=i(206),g=i(135),h=i(69),b=i(44),m=i(321),p=i(325),j=i(327),f=i(319),v=i(326),O=i(153),x=i(196),w=i.n(x),y=i(329),S=i(309),k=i(281),C=i(323),T=i(313),P=i(286),_=i(312),L=i(197),A=i.n(L),R=i(328),F=i(311),D=i(13);function M(e){var t=e.counts,i=e.resetFilter,o=e.resetView,l=e.brushing,d=e.setBrushing,r=e.aggregate,u=e.setAggregate,s=(e.brushRadius,e.setBrushRadius),c=e.pickupAgg,g=e.setPickupAgg,h=e.arcType,m=e.setArcType,p=Object(n.useState)(0),j=Object(b.a)(p,2),f=(j[0],j[1]);Object(n.useEffect)((function(){f((t/75960*100).toFixed(2))}),[t]);var v=Object(y.a)("div")({position:"absolute",zIndex:1,top:"2em",left:"2em",width:"40%"}),O=Object(y.a)("div")({color:"#dddddd",borderColor:"rgb(72,72,72)",padding:"1em",position:"",zIndex:1,height:"100%",width:"60%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"rgb(48,48,48)",borderRadius:"10px"}),x=(Object(y.a)("div")({color:"#dddddd",display:"block",fontSize:"1.2em",marginTop:"0.25em",marginBottom:"0.83em",marginLeft:0,marginRight:0,fontWeight:"bold"}),Object(S.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{color:"#dddddd",background:"rgb(48,48,48)",border:"0px solid #000",padding:e.spacing(2,4,3)}}}))()),w=a.a.useState(!1),L=Object(b.a)(w,2),M=L[0],H=L[1],B=a.a.useState(100),E=Object(b.a)(B,2),V=E[0],N=E[1];return Object(D.jsxs)("div",{children:[Object(D.jsx)(v,{children:Object(D.jsx)(O,{children:Object(D.jsxs)("div",{children:[Object(D.jsx)(k.a,{variant:"contained",disableElevation:!0,onClick:function(){d(!l),u(!1)},color:"primary",children:"Toggle brushing"}),l?Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{children:"Brushing Arc Target"}),Object(D.jsxs)(F.a,{children:[Object(D.jsx)(k.a,{variant:"contained",disableElevation:!0,onClick:function(){return m("source")},color:"source"==h?"":"primary",children:"Pickups"}),Object(D.jsx)(k.a,{variant:"contained",disableElevation:!0,onClick:function(){return m("target")},color:"target"==h?"":"primary",children:"Dropoffs"}),Object(D.jsx)(k.a,{variant:"contained",disableElevation:!0,onClick:function(){return m("source_target")},color:"source_target"==h?"":"primary",children:"Both"})]}),Object(D.jsx)("div",{children:"Brush Radius"}),Object(D.jsx)(R.a,{value:V,onChange:function(e,t){N(t),s(t)},step:10,min:50,max:400,valueLabelDisplay:"auto","aria-labelledby":"continuous-slider"})]}):Object(D.jsx)("div",{}),Object(D.jsx)(k.a,{variant:"contained",disableElevation:!0,onClick:function(){u(!r),d(!1)},color:"primary",children:"Toggle aggregation"}),r?Object(D.jsxs)("div",{children:["Aggregate by Event:",Object(D.jsxs)(F.a,{children:[Object(D.jsx)(k.a,{variant:"contained",disableElevation:!0,onClick:function(){return g(!0)},color:c?"":"primary",children:"Pickup"}),Object(D.jsx)(k.a,{variant:"contained",disableElevation:!0,onClick:function(){return g(!1)},color:c?"primary":"",children:"Dropoff"})]})]}):Object(D.jsx)("div",{}),Object(D.jsx)(k.a,{variant:"contained",disableElevation:!0,onClick:i,color:"primary",children:"Reset Time Filter"}),Object(D.jsx)(k.a,{variant:"contained",disableElevation:!0,onClick:o,color:"primary",children:"Reset View"}),Object(D.jsx)(_.a,{variant:"contained",disableElevation:!0,onClick:function(){H(!0)},color:"secondary",children:Object(D.jsx)(A.a,{})})]})})}),Object(D.jsx)("div",{children:Object(D.jsx)(C.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:x.modal,open:M,onClose:function(){H(!1)},closeAfterTransition:!0,BackdropComponent:T.a,BackdropProps:{timeout:500},children:Object(D.jsx)(P.a,{in:M,children:Object(D.jsxs)("div",{className:x.paper,children:[Object(D.jsx)("h2",{id:"transition-modal-title",children:"Help:"}),Object(D.jsxs)("ul",{children:[Object(D.jsx)("li",{children:"The map displays where New Yrok City Taxis picked up and dropped off passengers during the first few months of the COVID pandemic."}),Object(D.jsx)("li",{children:"Green Represents a pickup location and red means a dropoff location."}),Object(D.jsx)("p",{}),Object(D.jsx)("li",{children:"Enabling brushing allows for the specific trips to be highlighted."}),Object(D.jsx)("li",{children:"The brushing can filter the trips with pickups, dropoffs, or both inside the radius."}),Object(D.jsx)("li",{children:"The radius of the brush can be changed via the slider."}),Object(D.jsx)("p",{}),Object(D.jsx)("li",{children:"An aggregate view of the data can be enabled to show aggregation of where pickup and dropoff locations are."}),Object(D.jsx)("p",{}),Object(D.jsx)("li",{children:"The time filter can be adjusted to view how trip locations change over time."}),Object(D.jsx)("li",{children:"The lock icon toggles the fixed/free filter size."}),Object(D.jsx)("li",{children:'The filter can be reset with the "Reset Filter" button.'}),Object(D.jsx)("p",{}),Object(D.jsx)("li",{children:'The view of the map can be reset to the initial using the "Reset View" button'})]}),Object(D.jsx)("p",{children:"Data courtesy of NYC TLS: https://www1.nyc.gov/site/tlc/about/tlc-trip-record-data.page"})]})})})})]})}function H(e){var t,i=e.width,n=e.height,o=e.viewState,l=e.onViewStateChange,d=e.stations,r=e.trips,u=e.time_filter,s=e.loading,c=(e.isPlaying,e.setHighlight,e.resetFilter),O=e.resetView,x=function(){var e={};return d.forEach((function(t){e[t.id]=0})),e},w=function(){return r.filter((function(e){return e.start_minutes>=u[0]&&e.start_minutes<=u[1]}))},y=new v.a,S=[255,0,0],k=[0,255,0],C=a.a.useState(void 0),T=Object(b.a)(C,2),P=(T[0],T[1],a.a.useState(x())),_=Object(b.a)(P,2),L=(_[0],_[1],a.a.useState(0)),A=Object(b.a)(L,2),R=A[0],F=(A[1],a.a.useState(w())),H=Object(b.a)(F,2),B=H[0],E=H[1],V=a.a.useState(!1),N=Object(b.a)(V,2),J=N[0],I=N[1],Y=a.a.useState(100),G=Object(b.a)(Y,2),z=G[0],W=G[1],q=a.a.useState(!1),U=Object(b.a)(q,2),X=U[0],Q=U[1],Z=a.a.useState(!0),K=Object(b.a)(Z,2),$=K[0],ee=K[1],te=a.a.useState("source"),ie=Object(b.a)(te,2),ne=ie[0],ae=ie[1];a.a.useEffect((function(){E(w())}),[u,s]);var oe=[new m.a({id:"pickup-agg",data:B,elevationRange:[0,3e3],elevationScale:1,extruded:!0,opacity:.7,visible:X&&$,radius:100,coverage:.7,pickable:!0,getPosition:function(e){return e.start_position},autoHighlight:!0}),new m.a({id:"dropoff-agg",data:B,elevationRange:[0,3e3],elevationScale:r&&r.length?1:0,extruded:!0,opacity:.7,visible:X&&!$,radius:100,coverage:.7,pickable:!0,autoHighlight:!0,getPosition:function(e){return e.end_position}}),new p.a({id:"pickup",data:B,getPosition:function(e){return e.start_position},getFillColor:[0,255,0,50],visible:!X,getRadius:5}),new p.a({id:"dropoff",data:B,getPosition:function(e){return e.end_position},getFillColor:[255,0,0,50],visible:!X,getRadius:5}),new p.a({id:"pickup-brushed",data:B,getPosition:function(e){return e.start_position},getFillColor:k,getRadius:5,brushingRadius:z,brushingEnabled:J,visible:!X,extensions:[y]}),new p.a({id:"dropoff-brushed",data:B,getPosition:function(e){return e.end_position},getFillColor:S,getRadius:5,brushingRadius:z,brushingEnabled:J,visible:!X,extensions:[y]}),new j.a((t={id:"arc-layer",data:B,getSourcePosition:function(e){return e.start_position},getTargetPosition:function(e){return e.end_position},getSourceColor:function(e){return k},getTargetColor:function(e){return S},visible:!0,opacity:.2,updateTriggers:{getSourceColor:[u],getTargetColor:[u]},brushingRadius:z,brushingEnabled:J},Object(h.a)(t,"visible",J&&!X),Object(h.a)(t,"brushingTarget",ne),Object(h.a)(t,"extensions",[y]),t))];return Object(D.jsxs)("div",{children:[Object(D.jsx)(M,{counts:R,resetFilter:c,resetView:O,brushing:J,setBrushing:I,aggregate:X,setAggregate:Q,brushRadius:z,setBrushRadius:W,pickupAgg:$,setPickupAgg:ee,arcType:ne,setArcType:ae}),Object(D.jsx)(g.b,{mapboxApiAccessToken:"pk.eyJ1IjoianpoYW5nNTYiLCJhIjoiY2tuMXhmNG44MTI1MzJ2bW9rbWhjNTM4YSJ9.Oukq6B1n9DOXpjfRZfUOJQ",width:i,height:n,viewState:o,onViewStateChange:l,mapStyle:"mapbox://styles/mapbox/dark-v9",children:Object(D.jsx)(f.a,{viewState:o,layers:oe,getTooltip:function(e){var t=e.object;if(!t)return null;if($){var i=t.position[1],n=t.position[0],a=t.points.length;return t&&"        Hexbin LatLng: ".concat([i,n],"\n        Number of taxi pickups: ").concat(a)}var o=t.position[1],l=t.position[0],d=t.points.length;return t&&"        Hexbin LatLng: ".concat([o,l],"\n        Number of taxi dropoffs: ").concat(d)}})})]})}w.a.workerClass=i(275).default;var B={3186:{name:"Grove St PATH",latitude:40.71958611647166,longitude:-74.0431174635887},3195:{name:"Sip Ave",latitude:40.73089709786179,longitude:-74.06391263008119},3199:{name:"Newport Pkwy",latitude:40.728744799999994,longitude:-74.03210820000001},3792:{name:"Columbus Dr at Exchange Pl",latitude:40.71687,longitude:-74.03281},3185:{name:"City Hall",latitude:40.717732500000004,longitude:-74.04384499999999},3275:{name:"Columbus Drive",latitude:40.71835519823214,longitude:-74.03891444206238},3639:{name:"Harborside",latitude:40.71925170000001,longitude:-74.034234},3276:{name:"Marin Light Rail",latitude:40.71458403535893,longitude:-74.04281705617905},3202:{name:"Newport PATH",latitude:40.7272235,longitude:-74.03375890000001},3211:{name:"Newark Ave",latitude:40.72152515,longitude:-74.046304543},3213:{name:"Van Vorst Park",latitude:40.71848892,longitude:-74.047726625},3640:{name:"Journal Square",latitude:40.733670000000004,longitude:-74.0625},3187:{name:"Warren St",latitude:40.721123600000006,longitude:-74.03805095},3203:{name:"Hamilton Park",latitude:40.727595965999996,longitude:-74.044247311},3207:{name:"Oakland Ave",latitude:40.7376037,longitude:-74.05247829999999},3678:{name:"Fairmount Ave",latitude:40.72572613742557,longitude:-74.07195925712584},3194:{name:"McGinley Square",latitude:40.7253399253558,longitude:-74.06762212514876},3206:{name:"Hilltop",latitude:40.7311689,longitude:-74.0575736},3225:{name:"Baldwin at Montgomery",latitude:40.7236589,longitude:-74.0641943},3220:{name:"5 Corners Library",latitude:40.73496102000952,longitude:-74.05950307846071},3196:{name:"Riverview Park",latitude:40.7443187,longitude:-74.04399090000001},3272:{name:"Jersey & 3rd",latitude:40.723331586464354,longitude:-74.04595255851744},3269:{name:"Brunswick & 6th",latitude:40.726011729646245,longitude:-74.0503889322281},3638:{name:"Washington St",latitude:40.7242941,longitude:-74.0354826},3278:{name:"Monmouth and 6th",latitude:40.72568548362901,longitude:-74.0487903356552},3273:{name:"Manila & 1st",latitude:40.72165072487999,longitude:-74.04288411140442},3279:{name:"Dixon Mills",latitude:40.72163014263835,longitude:-74.04996782541275},3270:{name:"Jersey & 6th St",latitude:40.72528910781132,longitude:-74.04557168483734},3205:{name:"JC Medical Center",latitude:40.71653978099194,longitude:-74.0496379137039},3209:{name:"Brunswick St",latitude:40.7241765,longitude:-74.05065640000001},3267:{name:"Morris Canal",latitude:40.7124188237569,longitude:-74.03852552175522},3212:{name:"Christ Hospital",latitude:40.734785818,longitude:-74.050443636},3184:{name:"Paulus Hook",latitude:40.7141454,longitude:-74.0335519},3681:{name:"Grand St",latitude:40.71517767732029,longitude:-74.03768330812454},3679:{name:"Bergen Ave",latitude:40.72210378668603,longitude:-74.07145500183104},3483:{name:"Montgomery St",latitude:40.71942,longitude:-74.05099},3280:{name:"Astor Place",latitude:40.71928220070703,longitude:-74.07126188278198},3214:{name:"Essex Light Rail",latitude:40.712774200000005,longitude:-74.03648570000001},3791:{name:"Hoboken Ave at Monmouth St",latitude:40.73520838045357,longitude:-74.04696375131606},3481:{name:"York St",latitude:40.71649,longitude:-74.04105},3193:{name:"Lincoln Park",latitude:40.7246050998869,longitude:-74.07840594649316},3677:{name:"Glenwood Ave",latitude:40.72755146730012,longitude:-74.07106071710588},3268:{name:"Lafayette Park",latitude:40.71346382669195,longitude:-74.06285852193831},3281:{name:"Leonard Gordon Park",latitude:40.74590996631558,longitude:-74.05727148056029},3210:{name:"Pershing Field",latitude:40.742677141,longitude:-74.051788633},3201:{name:"Dey St",latitude:40.737711,longitude:-74.066921},3694:{name:"Jackson Square",latitude:40.71113,longitude:-74.0789},3192:{name:"Liberty Light Rail",latitude:40.711242299999995,longitude:-74.0557013},3198:{name:"Heights Elevator",latitude:40.748715945380226,longitude:-74.04044330120088},3277:{name:"Communipaw & Berry Lane",latitude:40.71435836870427,longitude:-74.06661093235016},3191:{name:"Union St",latitude:40.71821129999999,longitude:-74.08363940000001},3426:{name:"JCBS Depot",latitude:40.70965083364061,longitude:-74.06860113143921}},E=[{name:"Grove St PATH",latitude:40.71958611647166,longitude:-74.0431174635887,id:3186},{name:"Sip Ave",latitude:40.73089709786179,longitude:-74.06391263008119,id:3195},{name:"Newport Pkwy",latitude:40.728744799999994,longitude:-74.03210820000001,id:3199},{name:"Columbus Dr at Exchange Pl",latitude:40.71687,longitude:-74.03281,id:3792},{name:"City Hall",latitude:40.717732500000004,longitude:-74.04384499999999,id:3185},{name:"Columbus Drive",latitude:40.71835519823214,longitude:-74.03891444206238,id:3275},{name:"Harborside",latitude:40.71925170000001,longitude:-74.034234,id:3639},{name:"Marin Light Rail",latitude:40.71458403535893,longitude:-74.04281705617905,id:3276},{name:"Newport PATH",latitude:40.7272235,longitude:-74.03375890000001,id:3202},{name:"Newark Ave",latitude:40.72152515,longitude:-74.046304543,id:3211},{name:"Van Vorst Park",latitude:40.71848892,longitude:-74.047726625,id:3213},{name:"Journal Square",latitude:40.733670000000004,longitude:-74.0625,id:3640},{name:"Warren St",latitude:40.721123600000006,longitude:-74.03805095,id:3187},{name:"Hamilton Park",latitude:40.727595965999996,longitude:-74.044247311,id:3203},{name:"Oakland Ave",latitude:40.7376037,longitude:-74.05247829999999,id:3207},{name:"Fairmount Ave",latitude:40.72572613742557,longitude:-74.07195925712584,id:3678},{name:"McGinley Square",latitude:40.7253399253558,longitude:-74.06762212514876,id:3194},{name:"Hilltop",latitude:40.7311689,longitude:-74.0575736,id:3206},{name:"Baldwin at Montgomery",latitude:40.7236589,longitude:-74.0641943,id:3225},{name:"5 Corners Library",latitude:40.73496102000952,longitude:-74.05950307846071,id:3220},{name:"Riverview Park",latitude:40.7443187,longitude:-74.04399090000001,id:3196},{name:"Jersey & 3rd",latitude:40.723331586464354,longitude:-74.04595255851744,id:3272},{name:"Brunswick & 6th",latitude:40.726011729646245,longitude:-74.0503889322281,id:3269},{name:"Washington St",latitude:40.7242941,longitude:-74.0354826,id:3638},{name:"Monmouth and 6th",latitude:40.72568548362901,longitude:-74.0487903356552,id:3278},{name:"Manila & 1st",latitude:40.72165072487999,longitude:-74.04288411140442,id:3273},{name:"Dixon Mills",latitude:40.72163014263835,longitude:-74.04996782541275,id:3279},{name:"Jersey & 6th St",latitude:40.72528910781132,longitude:-74.04557168483734,id:3270},{name:"JC Medical Center",latitude:40.71653978099194,longitude:-74.0496379137039,id:3205},{name:"Brunswick St",latitude:40.7241765,longitude:-74.05065640000001,id:3209},{name:"Morris Canal",latitude:40.7124188237569,longitude:-74.03852552175522,id:3267},{name:"Christ Hospital",latitude:40.734785818,longitude:-74.050443636,id:3212},{name:"Paulus Hook",latitude:40.7141454,longitude:-74.0335519,id:3184},{name:"Grand St",latitude:40.71517767732029,longitude:-74.03768330812454,id:3681},{name:"Bergen Ave",latitude:40.72210378668603,longitude:-74.07145500183104,id:3679},{name:"Montgomery St",latitude:40.71942,longitude:-74.05099,id:3483},{name:"Astor Place",latitude:40.71928220070703,longitude:-74.07126188278198,id:3280},{name:"Essex Light Rail",latitude:40.712774200000005,longitude:-74.03648570000001,id:3214},{name:"Hoboken Ave at Monmouth St",latitude:40.73520838045357,longitude:-74.04696375131606,id:3791},{name:"York St",latitude:40.71649,longitude:-74.04105,id:3481},{name:"Lincoln Park",latitude:40.7246050998869,longitude:-74.07840594649316,id:3193},{name:"Glenwood Ave",latitude:40.72755146730012,longitude:-74.07106071710588,id:3677},{name:"Lafayette Park",latitude:40.71346382669195,longitude:-74.06285852193831,id:3268},{name:"Leonard Gordon Park",latitude:40.74590996631558,longitude:-74.05727148056029,id:3281},{name:"Pershing Field",latitude:40.742677141,longitude:-74.051788633,id:3210},{name:"Dey St",latitude:40.737711,longitude:-74.066921,id:3201},{name:"Jackson Square",latitude:40.71113,longitude:-74.0789,id:3694},{name:"Liberty Light Rail",latitude:40.711242299999995,longitude:-74.0557013,id:3192},{name:"Heights Elevator",latitude:40.748715945380226,longitude:-74.04044330120088,id:3198},{name:"Communipaw & Berry Lane",latitude:40.71435836870427,longitude:-74.06661093235016,id:3277},{name:"Union St",latitude:40.71821129999999,longitude:-74.08363940000001,id:3191},{name:"JCBS Depot",latitude:40.70965083364061,longitude:-74.06860113143921,id:3426}],V=i.p+"static/media/taxis.ac20a2fd.csv",N=i(38),J=i(200),I=i.n(J),Y=i(201),G=i.n(Y),z=i(317),W=Object(y.a)("div")({position:"absolute",zIndex:1,bottom:"40px",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}),q=Object(y.a)("div")({position:"",zIndex:1,height:"120%",width:"60%",display:"flex",justifyContent:"center",alignItems:"center",background:"rgb(48,48,48)",borderRadius:"10px"}),U=Object(N.a)({root:{marginLeft:12,width:"80%"},valueLabel:{"& span":{background:"rgb(75,75,75)",color:"#ffffff"}}})(R.a);function X(e){var t=e.min,i=e.max,a=e.value,o=e.onChange,l=e.formatLabel,d=Object(n.useState)(!0),r=Object(b.a)(d,2),u=r[0],s=r[1],c=Object(n.useState)(a[1]-a[0]),g=Object(b.a)(c,2),h=g[0],m=g[1];Object(n.useEffect)((function(){m(a[1]-a[0])}),a);var p=function(e){var n=[a[0],a[1]];u?((n=e[1]===n[1]?[e[0],e[0]+h]:[e[1]-h,e[1]])[0]<t&&(n=[t,t+h]),n[1]>i&&(n=[i-h,i]),o(n)):o(e)};return Object(D.jsx)(W,{children:Object(D.jsxs)(q,{children:[Object(D.jsx)(z.a,{id:"time-filter",color:"secondary",children:"Time Filter"}),Object(D.jsx)(U,{color:"secondary",min:t,max:i,value:a,"aria-labelledby":"time-filter",onChange:function(e,t){return p(t)},valueLabelDisplay:"on",valueLabelFormat:l}),Object(D.jsx)(_.a,{color:"secondary",onClick:function(){s(!u),m(a[1]-a[0])},children:u?Object(D.jsx)(I.a,{title:"Lock Time Filter"}):Object(D.jsx)(G.a,{title:"Open Time Filter"})})]})})}var Q=i(318),Z=i(202),K=i.n(Z),$=Object(S.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{color:"#dddddd",background:"rgb(48,48,48)",border:"0px solid #000",padding:e.spacing(2,4,3)}}}));function ee(e){var t=e.loading,i=$(),n=a.a.useState(!0),o=Object(b.a)(n,2),l=o[0],d=o[1];return Object(D.jsx)("div",{children:Object(D.jsx)(C.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:i.modal,open:l,onClose:function(){t||d(!1)},closeAfterTransition:!0,BackdropComponent:T.a,BackdropProps:{timeout:500},children:Object(D.jsx)(P.a,{in:l,children:Object(D.jsxs)("div",{className:i.paper,children:[Object(D.jsx)("h2",{id:"transition-modal-title",children:"NYC Taxi Trips during COVID"}),Object(D.jsx)("p",{id:"transition-modal-description",children:"The COVID pandemic led to lockdowns and the reduction of travels."}),Object(D.jsx)("p",{children:"A city that was hit espectially hard was NYC."}),Object(D.jsx)("p",{children:"Let's explore how the first few months of the pandemic (March - June 2020) changed how people used taxis in NYC."}),Object(D.jsx)("p",{children:"Data courtesy of NYC TLS: https://www1.nyc.gov/site/tlc/about/tlc-trip-record-data.page"}),t?Object(D.jsxs)("div",{children:["The data is loading, please wait. ",Object(D.jsx)(Q.a,{})]}):Object(D.jsx)("div",{children:Object(D.jsxs)("p",{children:["Loading complete. Click outside to continue ",Object(D.jsx)(K.a,{})]})})]})})})})}var te={longitude:-74,latitude:40.72,zoom:13.5,pitch:45,bearing:0},ie=function(e){Object(s.a)(i,e);var t=Object(c.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).setViewState=function(e){n.setState({viewState:e})},n.setFilter=function(e){n.setState({time_filter:e})},n.resetFilter=function(){n.setState({time_filter:[600,780]})},n.resetView=function(){n.handleFlyTo(te)},n.setHighlight=function(e,t){n.setState({highlightStation:e,highlightCount:t})},n.formatLabel=function(e){var t=("00"+Math.floor(e/60)).slice(-2),i=("00"+e%60).slice(-2);return"".concat(t,":").concat(i)},n.handleChangeViewState=function(e){var t=e.viewState;n.setViewState(t)},n.handleFlyTo=function(e){n.setViewState(Object(d.a)(Object(d.a)(Object(d.a)({},n.state.viewState),e),{},{transitionDuration:1500,transitionInterpolator:new g.a}))},n.togglePlaying=function(){n.setState({playing:!n.state.playing})},n.state={viewState:te,station_info:B,stations:E,trips:[],loading:!0,time_filter:[600,780],playing:!1,highlightStation:void 0,highlightCount:0},n}return Object(u.a)(i,[{key:"componentDidMount",value:function(){var e=this;Object(O.a)(V,(function(e){var t=new Date(e.tpep_pickup_datetime),i=new Date(e.tpep_dropoff_datetime);return{taxi_type:+e.VendorID,duration:(i-t)/6e4,distance:+e.trip_distance,passenger_count:+e.passenger_count,start_time:t.toTimeString(),start_minutes:60*t.getHours()+t.getMinutes(),fare_amount:+e.fare_amount,tip_amount:+e.tip_amount,total_amount:+e.total_amount,start_position:[+e.pickup_longitude,+e.pickup_latitude],end_position:[+e.dropoff_longitude,+e.dropoff_latitude]}})).then((function(t){new Date("01-01-2020"),new Date("05-01-2020");var i=t;e.setState({trips:i,loading:!1})})).then((function(){e.handleFlyTo(te)}))}},{key:"render",value:function(){return Object(D.jsxs)("div",{children:[Object(D.jsx)(ee,{loading:this.state.loading}),Object(D.jsx)(H,{width:"100vw",height:"100vh",viewState:this.state.viewState,onViewStateChange:this.handleChangeViewState,stations:this.state.stations,trips:this.state.trips,toggle:this.state.toggle,time_filter:this.state.time_filter,loading:this.state.loading,isPlaying:this.state.playing,resetFilter:this.resetFilter,resetView:this.resetView}),Object(D.jsx)(X,{min:0,max:1439,value:this.state.time_filter,animationSpeed:20,formatLabel:this.formatLabel,onChange:this.setFilter,togglePlaying:this.togglePlaying})]})}}]),i}(n.Component),ne=function(){return Object(D.jsx)(ie,{})},ae=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,330)).then((function(t){var i=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,l=t.getTTFB;i(e),n(e),a(e),o(e),l(e)}))};l.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(ne,{})}),document.getElementById("root")),ae()}},[[279,1,2]]]);
//# sourceMappingURL=main.004e6a86.chunk.js.map